"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[42,760],{9760:function(n,e,t){t.r(e);t(2791);var r=t(184);e.default=function(n){var e=n.children;return(0,r.jsx)("div",{children:(0,r.jsx)("h3",{children:e})})}},9042:function(n,e,t){t.r(e),t.d(e,{default:function(){return T}});var r,o,i,a,c,s,u,l,p=t(5861),d=t(9439),h=t(4687),f=t.n(h),x=t(2791),m=t(5671),g=t(9466),v=t(1243),b=function(){function n(){(0,m.Z)(this,n),this.options={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyMWQ2MWE4YjQ2NmU1YmQxMTMyMTgyMzhjNGY0ZjlmMyIsInN1YiI6IjY0YTI2YTQzODI4OWEwMDBjYWYwYTVlZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.nhvEKG7EoG9x1nhRPq5CaXnidc__HxCqBk3ol-ubvBY"}}}return(0,g.Z)(n,[{key:"getMovies",value:function(){var n=(0,p.Z)(f().mark((function n(e){var t,r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.Z.get("https://api.themoviedb.org/3/search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=1"),this.options);case 3:if(t=n.sent,0!==(r=t.data.results).length){n.next=7;break}throw new Error;case 7:return n.abrupt("return",{results:r});case 10:throw n.prev=10,n.t0=n.catch(0),new Error("No popular films");case 13:case"end":return n.stop()}}),n,this,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}]),n}(),Z=t(9760),w=t(7689),j=t(1087),y=t(168),k=t(1109),I=k.Z.div(r||(r=(0,y.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]))),M=k.Z.div(o||(o=(0,y.Z)(["\n  width: 200px;\n  margin: 10px;\n  padding: 10px;\n  border-radius: 8px;\n  background-color: #ffffff;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);\n  transition: transform 0.2s ease-in-out;\n\n  &:hover {\n    transform: scale(1.05);\n  }\n"]))),Y=k.Z.img(i||(i=(0,y.Z)(["\n  width: 100%;\n  height: auto;\n  object-fit: cover;\n  border-radius: 8px;\n  margin-bottom: 10px;\n"]))),_=k.Z.p(a||(a=(0,y.Z)(["\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 5px;\n  color: #333333;\n"]))),E=k.Z.img(c||(c=(0,y.Z)(["\n  width: 200px;\n  height: 300px;\n  object-fit: cover;\n  border-radius: 8px;\n"]))),C=k.Z.form(s||(s=(0,y.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 16px;\n"]))),J=k.Z.input(u||(u=(0,y.Z)(["\n  padding: 8px;\n  border: 1px solid grey;\n  border-radius: 4px;\n  margin-right: 8px;\n  border-color: grey;\n"]))),W=k.Z.button(l||(l=(0,y.Z)(["\n  background-color: #ccc;\n  color: #fff;\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n\n  &:hover {\n    background-color: #999;\n  }\n\n  &:focus,\n  &:active {\n    background-color: #888;\n  }\n"]))),S=t(184),T=function(){var n,e=(0,x.useMemo)((function(){return new b}),[]),t=(0,w.TH)(),r=(0,x.useState)([]),o=(0,d.Z)(r,2),i=o[0],a=o[1],c=(0,x.useState)(null),s=(0,d.Z)(c,2),u=s[0],l=s[1],h=(0,j.lr)(),m=(0,d.Z)(h,2),g=m[0],v=m[1],y=null!==(n=g.get("query"))&&void 0!==n?n:"",k=(0,x.useState)(y),T=(0,d.Z)(k,2),z=T[0],G=T[1],N=(0,x.useCallback)((0,p.Z)(f().mark((function n(){var t;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l(!1),n.prev=1,n.next=4,e.getMovies(z);case 4:t=n.sent,a(t.results),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),l(n.t0);case 11:return n.prev=11,n.finish(11);case 13:case"end":return n.stop()}}),n,null,[[1,8,11,13]])}))),[e,z,a]);(0,x.useEffect)((function(){})),(0,x.useEffect)((function(){y&&N()}),[y]);return(0,S.jsxs)("div",{children:[(0,S.jsxs)(C,{onSubmit:function(n){var e;n.preventDefault(),v(""!==(e=z)?{query:e}:{})},children:[(0,S.jsx)(J,{type:"text",value:z,onChange:function(n){G(n.target.value)},placeholder:"Search movies"}),(0,S.jsx)(W,{type:"submit",children:"Search"})]}),u?(0,S.jsx)(Z.default,{children:"We don't have any movies with this name"}):(0,S.jsx)(I,{children:i.map((function(n){return(0,S.jsx)(M,{children:(0,S.jsxs)(j.rU,{to:"/movies/".concat(n.id),state:{from:t},children:[n.poster_path?(0,S.jsx)(Y,{src:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),alt:n.title?n.title:n.name}):(0,S.jsx)(E,{src:"https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png",alt:n.name}),(0,S.jsx)(_,{children:n.title?n.title:n.name})]})},n.id)}))})]})}}}]);
//# sourceMappingURL=42.3521589d.chunk.js.map